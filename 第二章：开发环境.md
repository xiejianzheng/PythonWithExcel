# 第二章：开发环境

你可能已经迫不及待地想学习Python的基础知识，但在开始之前，你首先需设置好你的
电脑。要编写VBA代码或Power查询，只需要启动Excel，分别打开VBA或PowerQuery编辑器
即可。使用Python，需要一点更多的工作。

我们将从安装Anaconda Python发行版来开始这一章。
除了安装Python，Anaconda还将给我们提供Anaconda Prompt（Anaconda 敏捷促进器）
和Jupyter笔记本，这两个是我会在本书中使用的基本工具。
Anaconda Prompt是一个特殊的命令提示符（Windows）或终端（macOS）。
它允许我们允许使用Python脚本和其他在这本书将会遇到的命令行工具。
Jupyter笔记本允许我们以交互的方式处理数据、代码和图表，这使它成为Excel工作本
有利的竞争者。在使用Jupyter笔记本之后，我们会安装Visual Studio Code (VS Code),
一个强大的文本编辑器。VS Code 非常合适编写、运行和调试Python代码，
并附带集成终端。

图2-1总结了Anaconda和VS Code包含的内容。因为这本书是关于Excel的，所以本章我会
重点介绍Window和macOS。然而，第三部分之前的所有东西都能在Linux上运行。
让我们开始安装Anaconda吧。

## Anaconda Python 发行版

### 包管理器：Conda和pip
在前一章，我已经讲了一些关于Python包管理器pip的内容：pip负责下载、安装、更新和
卸载Python包以及它们的依赖和子依赖项。虽然Anaconda和pip一起工作，但它有一个内
置的替代的包管理器叫Conda。Conda的一个优点是它能安装不只是Python包还包括附加
其他版本的Python解析器。简单回顾一下：包会在你的Python安装中添加没有被标准库
覆盖的其他功能。如我将在第五章讲到的pandas就是这样一个包的例子。由于pandas已经
预安装在了Anaconda的Python安装中。你不需要手动安装它。

**CONDA vs PIP**
使用Anaconda，你应该通过Conda安装所有能通过Conda找到的东西，只有在Conda找不到
的情况下，才用pip安装那些conda找不到的包。Conda可能会覆盖前面用pip安装的文件。

### Conda 环境
你可能困惑为什么Anaconda Prompt（提示符）前面会显示一个（base）在每个输入行
开头。它是活动的Conda环境。一个Conda环境是一个独立的Python世界，其中包含了一个
特定版本的Python和一组已经安装了的，特定版本的包。为什么这是需要的？ 当你开始
并行处理不同项目，他们有不同的要求：一个项目可能需要使用Python 3.8和pandas 0.25
，而另一个项目可能使用Python 3.9和pandas 1.0.0。基于pandas 0.25.0写的代码通常
需要改动才能在pandas 1.0.0上运行，因此你不能只更新你的Python版本和pandas版本
而不修改你的代码。为每一个项目使用一个Conda环境，可以保证每一个项目都以正确
的依赖运行。虽然Conda环境是特定于Anaconda发行版的，但这概念在每一个Python安装
中都存在叫虚拟环境。Conda环境更强大，因为他们使处理不同的Python版本本身变得容
易，而不仅仅是包。当你阅读本书的时候，你不会需要改变你的Conda环境，因为我们总
是使用缺省的base环境。然而，如果你开始构建真实的项目，最好使用一个Conda或虚拟
环境以避免他们依赖之间的互相冲突。关于处理多个Conda环境需要的所有信息都在附录
A中。在那里，你还可以找到构建一个我写这本书时使用的确切包版本的Conda环境的指引。
这会允许你允许本书的例子，即使是很多年以后。另一个选择是看本书的主页，了解对
新的Python和库版本可能需要的改变。

解决完Conda环境的谜团后，是时候介绍下一个工具了，我们将在本书大量使用它：
Jupyter笔记本。

### Jupyter笔记本
在上一节中，我向你们展示了如何在一个Anaconda提示符下开启一个交互式的Python会话。
这是有用的，如果你想用一个简略的环境来测试一些简单的东西。然而，对于你主要的工作，
你希望有一个简易使用的环境。例如回到前面的命令、展示图表，这对于在Anaconda命令行
下运行的Python REPL（read、evaluate、print、loop）来说很难实现。

幸运的是，Anaconda携带的不仅是Python解析器：它还包含了Jupyter笔记本————它已经作为
了科学计算领域中最流行的允许Python代码的方式出现。

Jupyter笔记本允许你讲述一个故事，通过整合Python代码、格式化文本、图片和图表，到一
个交互笔记本中，在你的浏览器中运行。

他们对初学者很友好，因此在开启你的Python旅程的第一步时特别有用。
他们然而，也是非常流行在教学、原型制作和研究方面。因为他们促进了可重复性研究。

Jupyter笔记本已经成为Excel的一个严肃的竞争对手，因为它覆盖了与工作簿几乎相同的案例：
你可以快速准备、分析和可视化数据。

与Excel的区别是，这些都是通过编写Python代码实现的，而不是在Excel中使用鼠标点击。
Jupyter笔记本的另一个优势是，不会混淆数据和业务逻辑：Jupyter笔记本持有你的代码、
和图表，而你通常消费数据


